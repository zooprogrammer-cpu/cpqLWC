<template>
    <lightning-card  title="New Table">
        <div class="slds-var-p-around_medium">
            <table>
                <tbody>
                    <template for:each={planSummaryArray} for:item="item">
                        <tr key={item.id}>
                            <td class="slds-var-p-around_small" colspan="4"><strong><lightning-formatted-text value={item.title}></lightning-formatted-text></strong></td>
                        </tr>
                        <template for:each={item.children} for:item="child">
                            <tr key={child.id}>
                                <td class="slds-var-p-around_small"><lightning-formatted-number value={child.qty}></lightning-formatted-number>&nbsp;<lightning-formatted-number></lightning-formatted-number><lightning-formatted-text value={child.name}></lightning-formatted-text></td>
                                <td class="slds-text-align_right slds-var-p-around_small"><lightning-formatted-number  value={child.netTotal} format-style="currency" currency-code="USD"></lightning-formatted-number></td>
                            </tr>
                            <template for:each={child.grandChildren} for:item="grandChild">
                                <tr key={grandChild.id}>
                                    <td class="slds-var-p-around_small slds-var-p-left_large"><em><lightning-formatted-number value={grandChild.qty}></lightning-formatted-number>&nbsp;<lightning-formatted-number></lightning-formatted-number><lightning-formatted-text value={grandChild.name}></lightning-formatted-text></em></td>
                                    <td class="slds-text-align_right slds-var-p-around_small"><lightning-formatted-number  value={grandChild.netTotal} format-style="currency" currency-code="USD"></lightning-formatted-number></td>
                                </tr>
                            </template>
                        </template>

                        
                        
                        <tr key={item.id}>
                            <td class="slds-text-align_right slds-var-p-around_small adtBlue"><strong><lightning-formatted-text value={item.subTotalDesc}></lightning-formatted-text>&nbsp;Subtotal:</strong></td>
                            <!-- <template if:true={showInstall}> -->
                                <!-- <td>&nbsp;</td> -->
                                <td class="slds-text-align_right slds-var-p-around_small adtBlue"><strong><lightning-formatted-number value={item.installSubTotal} format-style="currency" currency-code="USD"></lightning-formatted-number></strong></td>
                            <!-- </template> -->
                            <!-- <template if:true={showMonthly}> -->
                                <td class="slds-text-align_right slds-var-p-around_small adtBlue"><strong><lightning-formatted-number value={item.monitoringSubTotal} format-style="currency" currency-code="USD"></lightning-formatted-number></strong></td>
                            <!-- </template> -->
                        </tr>                              
                    </template>
                </tbody>
              
            </table>
        </div>
    </lightning-card>
</template>